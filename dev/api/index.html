<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · MCBench</title><meta name="title" content="API · MCBench"/><meta property="og:title" content="API · MCBench"/><meta property="twitter:title" content="API · MCBench"/><meta name="description" content="Documentation for MCBench."/><meta property="og:description" content="Documentation for MCBench."/><meta property="twitter:description" content="Documentation for MCBench."/><meta property="og:url" content="https://github.com/tudo-physik-e4/MCBench/api/"/><meta property="twitter:url" content="https://github.com/tudo-physik-e4/MCBench/api/"/><link rel="canonical" href="https://github.com/tudo-physik-e4/MCBench/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MCBench</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../testcases/">Test cases &amp; Metrics</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Documentation"><span>Documentation</span></a></li></ul></li><li><a class="tocitem" href="../LICENSE/">LICENSE</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/tudo-physik-e4/MCBench" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/tudo-physik-e4/MCBench/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><ul><li><a href="#MCBench.AbstractFileBasedSampler"><code>MCBench.AbstractFileBasedSampler</code></a></li><li><a href="#MCBench.AbstractKernel"><code>MCBench.AbstractKernel</code></a></li><li><a href="#MCBench.AnySampler"><code>MCBench.AnySampler</code></a></li><li><a href="#MCBench.CsvBasedSampler"><code>MCBench.CsvBasedSampler</code></a></li><li><a href="#MCBench.DsvSampler"><code>MCBench.DsvSampler</code></a></li><li><a href="#MCBench.DsvTestcase"><code>MCBench.DsvTestcase</code></a></li><li><a href="#MCBench.FileBasedSampler"><code>MCBench.FileBasedSampler</code></a></li><li><a href="#MCBench.IIDSampler"><code>MCBench.IIDSampler</code></a></li><li><a href="#MCBench.IIDSamplingAlgorithm"><code>MCBench.IIDSamplingAlgorithm</code></a></li><li><a href="#MCBench.SamplingAlgorithm"><code>MCBench.SamplingAlgorithm</code></a></li><li><a href="#MCBench.Target"><code>MCBench.Target</code></a></li><li><a href="#MCBench.TestMetric"><code>MCBench.TestMetric</code></a></li><li><a href="#MCBench.Testcases"><code>MCBench.Testcases</code></a></li><li><a href="#MCBench.TwoSampleMetric"><code>MCBench.TwoSampleMetric</code></a></li><li><a href="#MCBench.chi_squared"><code>MCBench.chi_squared</code></a></li><li><a href="#MCBench.global_mode"><code>MCBench.global_mode</code></a></li><li><a href="#MCBench.marginal_kurtosis"><code>MCBench.marginal_kurtosis</code></a></li><li><a href="#MCBench.marginal_mean"><code>MCBench.marginal_mean</code></a></li><li><a href="#MCBench.marginal_mode"><code>MCBench.marginal_mode</code></a></li><li><a href="#MCBench.marginal_skewness"><code>MCBench.marginal_skewness</code></a></li><li><a href="#MCBench.marginal_variance"><code>MCBench.marginal_variance</code></a></li><li><a href="#MCBench.maximum_mean_discrepancy"><code>MCBench.maximum_mean_discrepancy</code></a></li><li><a href="#MCBench.sliced_wasserstein_distance"><code>MCBench.sliced_wasserstein_distance</code></a></li><li><a href="#MCBench.wasserstein_1d"><code>MCBench.wasserstein_1d</code></a></li></ul><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><ul><li><a href="#MCBench.build_teststat_reshuffle-Union{Tuple{T}, Tuple{TM}, Tuple{T, Int64, Vector{TM}, Vector{IOStream}}} where {TM&lt;:MCBench.TestMetric, T&lt;:MCBench.AbstractTestcase}"><code>MCBench.build_teststat_reshuffle</code></a></li><li><a href="#MCBench.build_teststatistic-Union{Tuple{TM}, Tuple{T}, Tuple{T, Vector{TM}}} where {T&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TestMetric}"><code>MCBench.build_teststatistic</code></a></li><li><a href="#MCBench.calc_metric-Union{Tuple{AT}, Tuple{AT, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, marginal_mean}} where AT&lt;:MCBench.AbstractTestcase"><code>MCBench.calc_metric</code></a></li><li><a href="#MCBench.get_sliced_wasserstein_distance-Tuple{Any, Any}"><code>MCBench.get_sliced_wasserstein_distance</code></a></li><li><a href="#MCBench.parse_teststatistic-Tuple{String}"><code>MCBench.parse_teststatistic</code></a></li><li><a href="#MCBench.parseline-Tuple{IOStream}"><code>MCBench.parseline</code></a></li><li><a href="#MCBench.plot_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric"><code>MCBench.plot_teststatistic</code></a></li><li><a href="#MCBench.read_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric"><code>MCBench.read_teststatistic</code></a></li><li><a href="#MCBench.rep-Tuple{Any, Any}"><code>MCBench.rep</code></a></li><li><a href="#MCBench.run_teststatistic-Union{Tuple{TM}, Tuple{TSM}, Tuple{TSM, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, TM, MCBench.SamplingAlgorithm}} where {TSM&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TwoSampleMetric}"><code>MCBench.run_teststatistic</code></a></li><li><a href="#MCBench.sample-Union{Tuple{FBA}, Tuple{AT}, Tuple{AT, FBA}} where {AT&lt;:MCBench.AbstractTestcase, FBA&lt;:MCBench.AbstractFileBasedSampler}"><code>MCBench.sample</code></a></li><li><a href="#MCBench.sample-Tuple{DsvTestcase, Int64}"><code>MCBench.sample</code></a></li><li><a href="#MCBench.sample-Tuple{Testcases}"><code>MCBench.sample</code></a></li></ul><h1 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.AbstractFileBasedSampler" href="#MCBench.AbstractFileBasedSampler"><code>MCBench.AbstractFileBasedSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractFileBasedSampler &lt;: AnySampler</code></pre><p>An abstract type for file-based sampling algorithms that inherit from <code>AnySampler</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.AbstractKernel" href="#MCBench.AbstractKernel"><code>MCBench.AbstractKernel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_mmd(s1::DensitySampleVector, s2::DensitySampleVector; g=0, N=0)
compute_bandwidth(x, y)</code></pre><p>Functions to calculate the Maximum Mean Discrepancy (MMD) between two samples. This code is adapted from the <a href="https://github.com/aicenter/IPMeasures.jl">IPMeasures.jl</a> package. Please refer to the repository for the original implementation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/mmd.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.AnySampler" href="#MCBench.AnySampler"><code>MCBench.AnySampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AnySampler</code></pre><p>An abstract type that serves as a base for all sampling algorithms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.CsvBasedSampler" href="#MCBench.CsvBasedSampler"><code>MCBench.CsvBasedSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct CsvBasedSampler &lt;: AbstractFileBasedSampler
IO funtionalities to read data from a set of CSV files.

# Fields
- `fbs::FileBasedSampler`: File-based sampler
- `header::Vector{String}`: Header of the CSV file
- `mask::Vector{Int}`: Mask to extract the desired columns
- `info::String`: Information about the sampler

# Constructors
- `CsvBasedSampler(; fields...)`
- `CsvBasedSampler(file_paths::Vector{String})`: Creates a `CsvBasedSampler` with the given vector of file paths.
- `CsvBasedSampler(path::String)`: Creates a `CsvBasedSampler` with the given file path. This will load all files in the directory if the path is a directory.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L123-L137">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.DsvSampler" href="#MCBench.DsvSampler"><code>MCBench.DsvSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct DsvSampler{D&lt;:DensitySampleVector} &lt;: AbstractFileBasedSampler
IO funtionalities to read data from a set of DensitySampleVector files.

# Fields
- `dsvs::Vector{D}`: Vector of file paths
- `current_dsv_index::Int`: Index of the current file in the vector
- `current_position::Int`: Position within the current file
- `weighted::Bool`: Whether the samples are weighted
- `total_samples::Int`: Total number of samples
- `neff::Vector{Float64}`: Number of effective samples
- `info::String`: Information about the sampler

# Constructors
- `DsvSampler(; fields...)`
- `DsvSampler(dsvs::Vector{D})`: Creates a `DsvSampler` with the given vector of file paths.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L182-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.DsvTestcase" href="#MCBench.DsvTestcase"><code>MCBench.DsvTestcase</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct DsvTestcase &lt;: AbstractTestcase</code></pre><p>A struct representing a test case based on DensitySampleVectors. This is meant to be used as IIDs when the samples are precalculated and stored in a file. In that case samples should be read from the file converted to a DensitySampleVector and used as the test case.</p><p><strong>Fields</strong></p><ul><li><code>sampler::DS</code>: The sampler that generates the samples.</li><li><code>dim::N</code>: The dimension of the test case.</li><li><code>info::A</code>: Additional information about the test case.</li></ul><p><strong>Constructors</strong></p><ul><li><code>DsvTestcase(s::DS, n::Int, info::A)</code>: Creates a test case with the given sampler, dimension and additional information.</li><li><code>DsvTestcase(s::DS, info::A)</code>: Creates a test case with the given sampler and additional information. The dimension is set to the dimension of the samples.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L140-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.FileBasedSampler" href="#MCBench.FileBasedSampler"><code>MCBench.FileBasedSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct FileBasesSampler &lt;: SamplingAlgorithm</code></pre><p>IO funtionalities to read data from a set of files.</p><p><strong>Fields</strong></p><ul><li><code>files::Vector{String}</code>: Vector of file paths.</li><li><code>current_file_index::Int</code>: Index of the current file in the vector.</li><li><code>current_position::Int</code>: Position within the current file.</li><li><code>current_file_handle::IOStream</code>: Handle to the currently open file.</li><li><code>info::String</code>: Information about the sampler. Used for plotting.</li></ul><p><strong>Constructors</strong></p><ul><li><code>FileBasedSampler(; fields...)</code></li><li><code>FileBasedSampler(file_paths::Vector{String})</code>: Creates a <code>FileBasedSampler</code> with the given vector of file paths.</li><li><code>FileBasedSampler(path::String)</code>: Creates a <code>FileBasedSampler</code> with the given file path. This will load all files in the directory if the path is a directory.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L46-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.IIDSampler" href="#MCBench.IIDSampler"><code>MCBench.IIDSampler</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct IIDSampler &lt;: IIDSamplingAlgorithm</code></pre><p>A struct representing an IID (Independent and Identically Distributed) Sampler to created instances of IID sampling algorithms.</p><p><strong>Fields</strong></p><ul><li><code>n_steps::Int</code>: The number of steps for the sampler. Identical to the number of samples for IID.</li><li><code>info::String</code>: Information or description of the sampler.</li></ul><p><strong>Constructors</strong></p><ul><li><code>IIDSampler()</code>: Creates an <code>IIDSampler</code> with default values of <code>10^5</code> steps and &quot;IID&quot; as the info string.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L27-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.IIDSamplingAlgorithm" href="#MCBench.IIDSamplingAlgorithm"><code>MCBench.IIDSamplingAlgorithm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type IIDSamplingAlgorithm &lt;: SamplingAlgorithm</code></pre><p>An abstract type for independent and identically distributed (IID) sampling algorithms that inherit from <code>SamplingAlgorithm</code>. This type doesn&#39;t have any fields or methods, but it is used to have testfunctions reference their IID <code>Base.rand</code> method when sampling. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L13-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.SamplingAlgorithm" href="#MCBench.SamplingAlgorithm"><code>MCBench.SamplingAlgorithm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type SamplingAlgorithm &lt;: AnySampler</code></pre><p>An abstract type for general sampling algorithms that inherit from <code>AnySampler</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/samplers.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.Target" href="#MCBench.Target"><code>MCBench.Target</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractTestcase</code></pre><p>An abstract type for any test cases.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L9-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.TestMetric" href="#MCBench.TestMetric"><code>MCBench.TestMetric</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type TestMetric</code></pre><p>An abstract type for any test metrics. Each metric is its own struct and must implement the <code>calc_metric</code> function. Metrics are designed to be both structs that hold the metric value and determine which version of <code>calc_metric</code> to dispatch.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.Testcases" href="#MCBench.Testcases"><code>MCBench.Testcases</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Testcases &lt;: AbstractTestcase</code></pre><p>A struct representing a test case to be used in the framework of MCBench. Testcases must consisit of a distribution or Target that is sampleable and a set of bounds.</p><p><strong>Fields</strong></p><ul><li><code>f::D</code>: The distribution or Target of the test case.</li><li><code>bounds::B</code>: The bounds of the test case.</li><li><code>dim::N</code>: The dimension of the test case.</li><li><code>info::A</code>: Additional information about the test case.</li></ul><p><strong>Constructors</strong></p><ul><li><code>Testcases(; fields...)</code>: Creates a test case with the given fields.</li><li><code>Testcases(f::D, bounds::B, dim::N, info::A)</code>: Creates a test case with the given distribution or target, bounds, dimension and additional information.</li><li><code>Testcases(f::D, dim::N, info::A)</code>: Creates a test case with the given distribution or target, dimension and additional information. Bounds are set to <code>[-10..10]</code> for each dimension.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L16-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.TwoSampleMetric" href="#MCBench.TwoSampleMetric"><code>MCBench.TwoSampleMetric</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type TwoSampleMetric</code></pre><p>An abstract type for any two-sample test metrics. Such as Wasserstein, MMD, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.chi_squared" href="#MCBench.chi_squared"><code>MCBench.chi_squared</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct chi_squared{V&lt;:Real,A&lt;:Any} &lt;: TwoSampleMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `chi_squared(; fields...)`
- `chi_squared(val::Real)` : Creates a `chi_squared` metric with the given metric value.

A struct for the chi_squared of the samples as a metric. 
The chi-squared is calculated for each dimension separately using an unbinned chi-squared.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L330-L344">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.global_mode" href="#MCBench.global_mode"><code>MCBench.global_mode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct global_mode{V&lt;:Real,A&lt;:Any} &lt;: TestMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `global_mode(; fields...)`
- `global_mode(val::Real)` : Creates a `global_mode` metric with the given metric value.

A struct for the global mode of the samples as a metric. This will return the mode as a vector of the mode for each dimension.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L88-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.marginal_kurtosis" href="#MCBench.marginal_kurtosis"><code>MCBench.marginal_kurtosis</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct marginal_kurtosis{V&lt;:Real,A&lt;:Any} &lt;: TestMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `marginal_kurtosis(; fields...)`
- `marginal_kurtosis(val::Real)` : Creates a `marginal_kurtosis` metric with the given metric value.

A struct for the marginal_kurtosis of the samples as a metric. Marginal kurtosis are calculated for each dimension of the samples and returned as a vector of `marginal_kurtosis` values.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L181-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.marginal_mean" href="#MCBench.marginal_mean"><code>MCBench.marginal_mean</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>struct marginal_mean{V&lt;:Real,A&lt;:Any} &lt;: TestMetric</p><pre><code class="nohighlight hljs"># Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `marginal_mean(; fields...)`
- `marginal_mean(val::Real)` : Creates a `marginal_mean` metric with the given metric value.

A struct for the mean value for each dimension of the samples as a metric.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L16-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.marginal_mode" href="#MCBench.marginal_mode"><code>MCBench.marginal_mode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct marginal_mode{V&lt;:Real,A&lt;:Any} &lt;: TestMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `marginal_mode(; fields...)`
- `marginal_mode(val::Real)` : Creates a `marginal_mode` metric with the given metric value.

A struct for the marginal_mode of the samples as a metric. Marginal modes are calculated for each dimension of the samples and returned as a vector of `marginal_mode` values.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L120-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.marginal_skewness" href="#MCBench.marginal_skewness"><code>MCBench.marginal_skewness</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct marginal_skewness{V&lt;:Real,A&lt;:Any} &lt;: TestMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `marginal_skewness(; fields...)`
- `marginal_skewness(val::Real)` : Creates a `marginal_skewness` metric with the given metric value.

A struct for the marginal_skewness of the samples as a metric. Marginal skewness are calculated for each dimension of the samples and returned as a vector of `marginal_skewness` values.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L151-L164">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.marginal_variance" href="#MCBench.marginal_variance"><code>MCBench.marginal_variance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct marginal_variance{V&lt;:Real,A&lt;:Any} &lt;: TestMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `marginal_variance(; fields...)`
- `marginal_variance(val::Real)` : Creates a `marginal_variance` metric with the given metric value.

A struct for the variance for each dimension of the samples as a metric.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L56-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.maximum_mean_discrepancy" href="#MCBench.maximum_mean_discrepancy"><code>MCBench.maximum_mean_discrepancy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct maximum_mean_discrepancy{V&lt;:Real,A&lt;:Any} &lt;: TwoSampleMetric

# Fields
- `val::V`: The value of the metric.
- `N::I`: The number of points used to calculate the maximum mean discrepancy.
- `info::A`: Information about the metric.
- `proc::P`: The processor information for the metric.

# Constructors
- `maximum_mean_discrepancy(; fields...)`
- `maximum_mean_discrepancy(val::Real)` : Creates a `maximum_mean_discrepancy` metric with the given metric value.
- `maximum_mean_discrepancy(val::Real, N::Int)` : Creates a `maximum_mean_discrepancy` metric with the given metric value and number of points.

A struct for the maximum_mean_discrepancy of the samples as a metric. 
Per default the number of points used to calculate the maximum mean discrepancy is 10^4.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L291-L308">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.sliced_wasserstein_distance" href="#MCBench.sliced_wasserstein_distance"><code>MCBench.sliced_wasserstein_distance</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct sliced_wasserstein_distance{V&lt;:Real,A&lt;:Any} &lt;: TwoSampleMetric

# Fields
- `val::V`: The value of the metric.
- `N::I`: The number of points used to calculate the sliced Wasserstein distance.
- `info::A`: Information about the metric.
- `proc::P`: The processor information for the metric.

# Constructors
- `sliced_wasserstein_distance(; fields...)`
- `sliced_wasserstein_distance(val::Real)` : Creates a `sliced_wasserstein_distance` metric with the given metric value.

A struct for the sliced_wasserstein_distance of the samples as a metric. 
The sliced Wasserstein distance is calculated by projecting the samples onto a random direction and calculating the Wasserstein distance in that direction.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L244-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.wasserstein_1d" href="#MCBench.wasserstein_1d"><code>MCBench.wasserstein_1d</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct wasserstein_1d{V&lt;:Real,A&lt;:Any} &lt;: TwoSampleMetric

# Fields
- `val::V`: The value of the metric.
- `info::A`: Information about the metric.

# Constructors
- `wasserstein_1d(; fields...)`
- `wasserstein_1d(val::Real)` : Creates a `wasserstein_1d` metric with the given metric value.

A struct for the wasserstein_1d of the samples as a metric. The Wasserstein distance is calculated for each dimension separately and returned as a vector of `wasserstein_1d` values.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L212-L225">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.build_teststat_reshuffle-Union{Tuple{T}, Tuple{TM}, Tuple{T, Int64, Vector{TM}, Vector{IOStream}}} where {TM&lt;:MCBench.TestMetric, T&lt;:MCBench.AbstractTestcase}" href="#MCBench.build_teststat_reshuffle-Union{Tuple{T}, Tuple{TM}, Tuple{T, Int64, Vector{TM}, Vector{IOStream}}} where {TM&lt;:MCBench.TestMetric, T&lt;:MCBench.AbstractTestcase}"><code>MCBench.build_teststat_reshuffle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_teststat_reshuffle(t&lt;:AbstractTestcase, n::Int, m::Vector{TestMetric}, fnm::Vector{IOStream}; 
    s=IIDSampler(), n_steps=10^5, n_samples=0, unweight=true, par=false, use_sampler=true) -&gt; Nothing</code></pre><p>This function is prone to be changed mostly used for internal usage, please use the <code>build_teststatistic</code> function instead! Generates reshuffled test statistics for a given test case and metric vector, writing results to specified files.</p><p><strong>Arguments</strong></p><ul><li><code>t&lt;:AbstractTestcase</code>: The test case to be evaluated, is a subtype of <code>AbstractTestcase</code>.</li><li><code>n::Int</code>: Number of reshuffling iterations to perform.</li><li><code>m::Vector{TM}</code>: A vector of metrics to evaluate, where <code>TM</code> is a subtype of <code>TestMetric</code>.</li><li><code>fnm::Vector{IOStream}</code>: A vector of open file streams for writing test statistics.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>s</code>: The sampling algorithm to use. Defaults to <code>IIDSampler()</code>.</li><li><code>n_steps::Int</code>: Number of steps for the sampling algorithm. Defaults to <code>10^5</code>.</li><li><code>n_samples::Int</code>: Number of samples to generate for each iteration. Defaults to <code>0</code> (use all available samples).</li><li><code>unweight::Bool</code>: Whether to resample based on effective sample size (ESS) when weights are unequal. Defaults to <code>true</code>.</li><li><code>par::Bool</code>: Enable parallel processing if <code>true</code>. Defaults to <code>false</code>.</li><li><code>use_sampler::Bool</code>: Use the sampler for data generation if <code>true</code>. Defaults to <code>true</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Nothing</code>: Results are written to the provided file streams.</li></ul><p><strong>Notes</strong></p><ol><li>Handles both cases of generating fixed or variable sample sizes (<code>n_samples &gt; 0</code> or <code>n_samples &lt;= 0</code>).</li><li>Ensures proper resampling when weights are unequal, maintaining consistent ESS.</li><li>Supports parallel and sequential processing based on the <code>par</code> argument.</li><li>Automatically closes all file streams upon completion.</li></ol><p><strong>Example</strong></p><pre><code class="language-julia hljs">testcase = MyTestcase()
metrics = [Metric1(), Metric2()]
file_streams = [open(&quot;metric1.txt&quot;, &quot;w&quot;), open(&quot;metric2.txt&quot;, &quot;w&quot;)]
build_teststat_reshuffle(testcase, 100, metrics, file_streams; n_steps=10^4, unweight=true, par=false)</code></pre><p><strong>Error Handling</strong></p><ul><li>Ensures file streams are closed in case of unexpected errors during execution.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/teststatistic.jl#L96-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.build_teststatistic-Union{Tuple{TM}, Tuple{T}, Tuple{T, Vector{TM}}} where {T&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TestMetric}" href="#MCBench.build_teststatistic-Union{Tuple{TM}, Tuple{T}, Tuple{T, Vector{TM}}} where {T&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TestMetric}"><code>MCBench.build_teststatistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">build_teststatistic(t&lt;:AbstractTestcase, m::Vector{TestMetric}; 
    s=IIDSampler(), n::Int=10^2, n_steps::Int=10^5, 
    n_samples::Int=10^5, par::Bool=true, 
    clean::Bool=false, unweight::Bool=true, 
    use_sampler::Bool=true, iid=false)</code></pre><p>Build and store test statistics for a given test case and multiple Metrics. This function manages file creation and invokes reshuffling and sampling to calculate the desired statistics. The resampling is performed <code>n</code> times according to the effective sample size of the provided sampler. Sampling is repeted until <code>n samples</code> of effective samples are generated.</p><p><strong>Arguments</strong></p><ul><li><code>t&lt;:AbstractTestcase</code>: The test case, is a subtype of <code>AbstractTestcase</code>.</li><li><code>m::Vector{TM}</code>: A vector of metrics, where <code>TM</code> is a subtype of <code>TestMetric</code>.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>s</code>: A sampling algorithm. Defaults to <code>IIDSampler()</code>.</li><li><code>n::Int</code>: Number of iterations aka the number of times the tests and calculations of the metrics is performed. Defaults to <code>10^2</code>.</li><li><code>n_steps::Int</code>: Number of steps for the sampling algorithm. This setting is only necessary for samplers that require a fixed number of steps. This is not relevant if the number of steps is defined in the sampler object. Defaults to <code>10^5</code>. </li><li><code>n_samples::Int</code>: Number of samples to generate. This setting referes to the number of IID samples. Defaults to <code>10^5</code>. </li><li><code>par::Bool</code>: Whether to enable parallel processing. Defaults to <code>true</code>.</li><li><code>clean::Bool</code>: If <code>true</code>, clears the output files before calculation. Defaults to <code>false</code>.</li><li><code>unweight::Bool</code>: Whether to unweight samples during reshuffling. If <code>false</code> resampling to the effective sample size will be skipped. Defaults to <code>true</code>. </li><li><code>use_sampler::Bool</code>: Whether to utilize the sampler in the calculations. This is only necessary for internal sampler types which have custom settings (like fixed number of steps). It will use the actual sampling object instead of creating a new instance of the sampler object with default settings and the number of steps in this function. Defaults to <code>true</code>.</li><li><code>iid::Bool</code>: If <code>true</code>, forces IID behavior regardless of the sampler type. Can be used for IID to IID comparisons. Defaults to <code>false</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>Nothing</code>: Results are stored in specified files.</li></ul><p><strong>Notes</strong></p><ol><li>Make sure to have created <code>teststatistics</code> and <code>teststatistics_sampler</code> filepaths.</li><li>File paths are generated based on the <code>info</code> property of the test case, metric, and sampler.</li><li>If <code>clean</code> is <code>true</code>, all files are overwritten. Otherwise, results are appended.</li><li>The function ensures that files are properly closed, even in case of errors.</li><li>Reshuffling and sampling are handled by the <code>build_teststat_reshuffle</code> function.</li></ol><p><strong>Example</strong></p><pre><code class="language-julia hljs">metrics = [Metric1(), Metric2()]
testcase = MyTestcase()
build_teststatistic(testcase, metrics; n=100, par=true, clean=true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/teststatistic.jl#L34-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.calc_metric-Union{Tuple{AT}, Tuple{AT, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, marginal_mean}} where AT&lt;:MCBench.AbstractTestcase" href="#MCBench.calc_metric-Union{Tuple{AT}, Tuple{AT, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, marginal_mean}} where AT&lt;:MCBench.AbstractTestcase"><code>MCBench.calc_metric</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">calc_metric(t::AbstractTestcase, 
s::DensitySampleVector, 
m::TestMetric)

Calculate the metric `m` for the test case `t` and the samples `s`.
This function is used to calculate the metric value for a given test case and samples for any metric type.
`TwoSampleMetric` metrics can also be used, however the `calc_metric` then samples a second set of IID samples to compare against.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testmetrics.jl#L42-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.get_sliced_wasserstein_distance-Tuple{Any, Any}" href="#MCBench.get_sliced_wasserstein_distance-Tuple{Any, Any}"><code>MCBench.get_sliced_wasserstein_distance</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_sliced_wasserstein_distance(dist1, dist2; d=50, L=1000, p=1, N=100_000)</code></pre><p>Compute the sliced Wasserstein distance between two probability distributions.</p><p><strong>Arguments</strong></p><ul><li><code>dist1</code>: The first probability distribution.</li><li><code>dist2</code>: The second probability distribution.</li><li><code>d</code>: The dimension of the samples. Default is 50.</li><li><code>L</code>: The number of random projections. Default is 1000.</li><li><code>p</code>: The norm order. Default is 1.</li><li><code>N</code>: The number of samples. Default is 100_000.</li></ul><p><strong>Returns</strong></p><p>The sliced Wasserstein distance between <code>dist1</code> and <code>dist2</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/wasserstein.jl#L132-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.parse_teststatistic-Tuple{String}" href="#MCBench.parse_teststatistic-Tuple{String}"><code>MCBench.parse_teststatistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_teststatistic(filename::String)</code></pre><p>Parses test statistics from a specified file.</p><p><strong>Arguments</strong></p><ul><li><code>filename::String</code>: The name of the file containing test statistics.</li></ul><p><strong>Returns</strong></p><ul><li><code>Array{Float64}</code>: A reshaped array containing the parsed test statistics.</li></ul><p><strong>Notes</strong></p><p>The function reads lines from the file, parses them as JSON, and reshapes the resulting data.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">statistics = parse_teststatistic(&quot;./teststatistics/example.txt&quot;)
println(statistics)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/teststatistic.jl#L231-L250">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.parseline-Tuple{IOStream}" href="#MCBench.parseline-Tuple{IOStream}"><code>MCBench.parseline</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parseline(f::IOStream)</code></pre><p>Parses a single line of JSON data from an open file stream.</p><p><strong>Arguments</strong></p><ul><li><code>f::IOStream</code>: The open file stream from which the line is read.</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{Float64}</code>: A vector parsed from the JSON line.</li><li><code>[]</code>: An empty array if the line is empty.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">file = open(&quot;./teststatistics/example.txt&quot;, &quot;r&quot;)
line_data = parseline(file)
close(file)
println(line_data)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/teststatistic.jl#L259-L278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.plot_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric" href="#MCBench.plot_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric"><code>MCBench.plot_teststatistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">plot_metrics(t::AbstractTestcase, normvals::Vector{NamedTuple}; plotalpha=0.2, infos=[], s=[]) 
plot_teststatistic(t::AbstractTestcase, m::TM) where {TM &lt;: TestMetric}
plot_teststatistic(t::AbstractTestcase, m::TM, s::AnySampler; nbins=32, same_bins=true,sampler_bins=false)</code></pre><p>Functions to plot test statistics and overview plots for a given test case and metrics. These functions are subject to change and changed for recepies and are not guaranteed to be stable</p><p><strong>Arguments</strong></p><ul><li><code>t::AbstractTestcase</code>: The open file stream from which the line is read.</li><li><code>m::TM</code>: The metric for which the test statistic is plotted.</li><li><code>s::AnySampler</code>: The sampling algorithm for which the test statistic is plotted.</li><li><code>nbins::Int</code>: The number of bins for the histogram.</li><li><code>same_bins::Bool</code>: Whether to use the same bins for the test statistic and the sampling algorithm.</li><li><code>sampler_bins::Bool</code>: Whether to use the bins of the sampling algorithm for the test statistic or from the IID samples. This should be set to <code>true</code> as the distribution of the test statistics for the sampler i svery likely have a wider range than the IID samples.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">t = MyTestcase()
m = [MyMetric_1(), MyMetric_2()]
s = MySampler()

plot_teststatistic(t, m, s; nbins=32, same_bins=true, sampler_bins=true)
plot_metrics(t, normvals; plotalpha=0.2, infos=[], s=[])
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/plotting_teststat.jl#L1-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.read_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric" href="#MCBench.read_teststatistic-Union{Tuple{TM}, Tuple{MCBench.AbstractTestcase, TM}} where TM&lt;:MCBench.TestMetric"><code>MCBench.read_teststatistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_teststatistic(t::AbstractTestcase, m::TM)
read_teststatistic(t::AbstractTestcase, m::TM, s::AnySampler)</code></pre><p>Functions to read test statistics from a file. Read test statistics for a given test case, metric, and optionally a sampling algorithm from a file.</p><p><strong>Arguments</strong></p><ul><li><code>t::AbstractTestcase</code>: The test case for which the statistics are being read.</li><li><code>m::TM</code>: The metric, where <code>TM</code> is a subtype of <code>TestMetric</code>.</li><li><code>s::AnySampler</code> (optional): The sampling algorithm used to generate the statistics. If not givin the IID statistics are read.</li></ul><p><strong>Returns</strong></p><ul><li><code>Array{Float64}</code>: A reshaped array containing the parsed test statistics.</li></ul><p><strong>Notes</strong></p><ul><li>Constructs the file name using <code>t.info</code> and <code>m.info</code>, and optionally <code>s.info</code> if a sampler is provided.</li><li>Reads and parses the contents of the file to extract the statistics.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">testcase = MyTestcase()
metric = MyMetric()
statistics = read_teststatistic(testcase, metric)  # Without sampler
println(statistics)

sampler = MySampler()
statistics_with_sampler = read_teststatistic(testcase, metric, sampler)  # With sampler
println(statistics_with_sampler)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/teststatistic.jl#L189-L219">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.rep-Tuple{Any, Any}" href="#MCBench.rep-Tuple{Any, Any}"><code>MCBench.rep</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">wasserstein1d(a::Vector, b::Vector; p=1, wa=nothing, wb=nothing)
get_sliced_wasserstein_distance(sample1::DensitySampleVector, sample2::DensitySampleVector; L=1000, p=1, N=0, parallel=true)</code></pre><p>Functions to calculate the Wasserstein distance between two 1D distributions and the sliced Wasserstein distance between two probability distributions. This code is adapted from the <a href="https://cran.r-project.org/web/packages/transport/index.html">Transport package in R</a> translated to Julia.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/wasserstein.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.run_teststatistic-Union{Tuple{TM}, Tuple{TSM}, Tuple{TSM, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, TM, MCBench.SamplingAlgorithm}} where {TSM&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TwoSampleMetric}" href="#MCBench.run_teststatistic-Union{Tuple{TM}, Tuple{TSM}, Tuple{TSM, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, StructArrays.StructArray{BAT.DensitySample{P, T, W, R, Q}, 1, @NamedTuple{v::PV, logd::TV, weight::WV, info::RV, aux::QV}} where {P, T&lt;:AbstractFloat, W&lt;:Real, R, Q, PV&lt;:AbstractVector{P}, TV&lt;:AbstractVector{T}, WV&lt;:AbstractVector{W}, RV&lt;:AbstractVector{R}, QV&lt;:AbstractVector{Q}}, TM, MCBench.SamplingAlgorithm}} where {TSM&lt;:MCBench.AbstractTestcase, TM&lt;:MCBench.TwoSampleMetric}"><code>MCBench.run_teststatistic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_teststatistic(
t::AbstractTestcase, 
samples1::DensitySampleVector,
samples2::DensitySampleVector,
m::TwoSampleMetric,
s::SamplingAlgorithm;)

run_teststatistic(
t::AbstractTestcase, 
samples::DensitySampleVector,
m::TwoSampleMetric, s::AnySampler;)

run_teststatistic(
t::AbstractTestcase, 
samples::DensitySampleVector,
m::TwoSampleMetric, s::Int;)

run_teststatistic(
t::AbstractTestcase, m::TwoSampleMetric,
s::AnySampler; n_steps::Int=10^5)

run_teststatistic(
t::AbstractTestcase, m::TwoSampleMetric;
n_steps::Int=10^5)</code></pre><p>Functions to run a two-sample test statistic on a given testcase and metric. When the samples are provided, the function calculates the metric value using the samples. When the sampling algorithm is provided, the function samples using the algorithm and the IID samples and calculates the metric value. When no samples and sampling algorithm are provided, the function samples using the testcase and calculates the metric value.</p><p><strong>Arguments</strong></p><ul><li><code>t::AbstractTestcase</code>: The test case, is a subtype of <code>AbstractTestcase</code>.</li><li><code>samples1::DensitySampleVector</code>: The first density sample vector.</li><li><code>samples2::DensitySampleVector</code>: The second density sample vector.</li><li><code>m::TwoSampleMetric</code>: The metric, is a subtype of <code>TwoSampleMetric</code>.</li><li><code>s::SamplingAlgorithm</code>: The sampling algorithm used for calculations.</li><li><code>n_steps::Int</code>: The number of steps to be generated.</li></ul><p><strong>Returns</strong></p><ul><li><code>TwoSampleMetric</code>: The calculated metric value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/twosampleteststatics.jl#L1-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.sample-Tuple{DsvTestcase, Int64}" href="#MCBench.sample-Tuple{DsvTestcase, Int64}"><code>MCBench.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(t::DsvTestcase; n_steps=10^5)::DensitySampleVector
sample(t::DsvTestcase, s::SamplingAlgorithm; n_steps=10^5)::DensitySampleVector</code></pre><p>The <code>sample</code> methods using <code>DsvTestcase</code> using the same logic as for <code>Testcases</code> but using the precalculated samples no matter the sampler used. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L174-L181">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.sample-Tuple{Testcases}" href="#MCBench.sample-Tuple{Testcases}"><code>MCBench.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(t::Testcases; n_steps=10^5)::DensitySampleVector
sample(t::Testcases, n::Int)::DensitySampleVector
sample(t::Testcases, s::IIDSamplingAlgorithm; n_steps=10^5)::DensitySampleVector</code></pre><p>IID sampling from the distribution of the test case <code>t</code> with <code>n_steps</code> or <code>n</code> samples. When integrating a custom sampling algorithm, the <code>sample</code> method should be overloaded for the new sampling algorithm type for <code>s</code>. Returns a density sample vector with the samples and the log densities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L57-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MCBench.sample-Union{Tuple{FBA}, Tuple{AT}, Tuple{AT, FBA}} where {AT&lt;:MCBench.AbstractTestcase, FBA&lt;:MCBench.AbstractFileBasedSampler}" href="#MCBench.sample-Union{Tuple{FBA}, Tuple{AT}, Tuple{AT, FBA}} where {AT&lt;:MCBench.AbstractTestcase, FBA&lt;:MCBench.AbstractFileBasedSampler}"><code>MCBench.sample</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample(t&lt;:AbsatractTestcase, s&lt;:AbstractFileBasedSampler; n_steps=10^5)::DensitySampleVector</code></pre><p>Sampling from the distribution of the test case <code>t</code> using a file-based sampler <code>s</code> with <code>n_steps</code> samples. The test case is not used in the sampling process, but it is used to calculate the log densities of the samples.  Returns a density sample vector with the samples and the log densities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/tudo-physik-e4/MCBench/blob/24a85c8b12faa6c3cc9cc7480d90a3050d1d71be/src/testcases.jl#L86-L94">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../testcases/">« Test cases &amp; Metrics</a><a class="docs-footer-nextpage" href="../LICENSE/">LICENSE »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 10 September 2025 13:08">Wednesday 10 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
